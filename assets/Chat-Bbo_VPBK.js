import{u as M,r as i,j as e,A as u}from"./index-BbrwK9IC.js";import{m as a}from"./proxy-BOWVi-dK.js";import{c as V,P as k,S as W,M as _}from"./sparkles-CLU3KMJF.js";import{M as f}from"./mic-DjWxriNP.js";const H=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],p=V("check",H),A=[{id:"manager",label:"Circle Manager",description:"Full access to manage circle"},{id:"viewer",label:"Viewer",description:"View-only access"},{id:"editor",label:"Editor",description:"Can edit and contribute"},{id:"contributor",label:"Contributor",description:"Can add transactions"}];function q(){const C=M(),b=i.useRef(null),g=i.useRef(null),[l,r]=i.useState("idle"),[j,x]=i.useState([]),[v,w]=i.useState(""),[o,F]=i.useState([]),[c,m]=i.useState(!1),[d,h]=i.useState("listening"),[$,y]=i.useState(""),T=()=>{g.current?.scrollIntoView({behavior:"smooth"})};i.useEffect(()=>{T()},[j,l]),i.useEffect(()=>{const s=setTimeout(()=>{b.current?.focus()},300);return()=>clearTimeout(s)},[]),i.useEffect(()=>{if(c&&d==="listening"){const s=setTimeout(()=>{h("confirming")},3500);return()=>clearTimeout(s)}},[c,d]),i.useEffect(()=>{if(c&&d==="listening"){const s="Add Ahmed my dad to my household bills circle...";let t="",n=0;const N=setInterval(()=>{n<s.length?(t+=s[n],y(t),n++):clearInterval(N)},50);return()=>clearInterval(N)}else c||(y(""),h("listening"))},[c,d]),i.useEffect(()=>{if(l==="userTyping"){const s=setTimeout(()=>{x(t=>[...t,{id:Date.now(),type:"user",text:"I want to add Ahmed, my dad to my circle"}]),w(""),r("aiResponding")},800);return()=>clearTimeout(s)}if(l==="aiResponding"){const s=setTimeout(()=>{x(t=>[...t,{id:Date.now(),type:"ai",text:"Ok, what's the role you want to assign to",inlineAvatar:{image:"ahmed.png",name:"Ahmed"}}]),r("roleSelection")},1200);return()=>clearTimeout(s)}if(l==="animatingAvatar"){const s=setTimeout(()=>{x(t=>[...t,{id:Date.now(),type:"ai",text:"Added Dad to the circle",showAvatarGroup:!0}]),r("confirmed")},1500);return()=>clearTimeout(s)}if(l==="confirmed"){const s=setTimeout(()=>{x(t=>[...t,{id:Date.now(),type:"ai",text:"Is there anything else I can do for you today?"}]),r("followUp")},1e3);return()=>clearTimeout(s)}},[l]);const z=()=>{l==="idle"&&v.trim()&&r("userTyping")},S=()=>{m(!0),h("listening")},I=()=>{h("success"),setTimeout(()=>{m(!1),r("userTyping")},2e3)},D=s=>{F(t=>t.includes(s)?t.filter(n=>n!==s):[...t,s])},R=()=>{o.length>0&&r("confirmationCard")},E=()=>{r("animatingAvatar")};return e.jsx("div",{className:"min-h-screen text-[#060928] font-sans flex flex-col",style:{background:c?"linear-gradient(180deg, #5d1a4d 0%, #2d1a4d 100%)":"linear-gradient(180deg, #5d1a4d 0%, rgba(255,255,255,0.9) 25%, rgba(255,255,255,1) 40%)"},children:e.jsx(u,{mode:"wait",children:c?e.jsxs(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.4},className:"flex flex-col h-screen overflow-hidden",children:[e.jsxs("div",{className:"px-6 pt-[calc(env(safe-area-inset-top)+20px)] pb-4 z-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>m(!1),className:"w-10 h-10 rounded-full overflow-hidden border-2 border-white/20 shadow-md",children:e.jsx("div",{className:"w-full h-full bg-cover bg-center",style:{backgroundImage:"url(/investbank/assets/omar.png)"}})}),e.jsx("h1",{className:"text-xl font-bold text-white",children:"Hi Omar"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-white",children:[e.jsx("button",{className:"hover:opacity-80 transition-opacity",children:e.jsx(W,{size:24})}),e.jsxs("button",{className:"relative hover:opacity-80 transition-opacity",children:[e.jsx(_,{size:24}),e.jsx("div",{className:"absolute -top-1 -right-1 w-3.5 h-3.5 bg-pink-500 rounded-full border-2 border-[#5d1a4d] flex items-center justify-center",children:e.jsx("span",{className:"text-[8px] font-bold text-white",children:"1"})})]})]})]}),e.jsx(a.div,{layout:!0,className:"relative mb-8 mt-4",children:e.jsxs("div",{className:"w-full bg-white rounded-full px-6 py-3.5 flex items-center gap-2 shadow-[0_10px_40px_rgba(0,0,0,0.2)]",children:[e.jsx("span",{className:"text-gray-400 font-medium whitespace-nowrap",children:"Add"}),e.jsxs("div",{className:"flex items-center gap-2 bg-[#F5F5F7] px-2 py-1 rounded-full border border-gray-100",children:[e.jsx("div",{className:"w-5 h-5 rounded-full overflow-hidden",children:e.jsx("img",{src:"/investbank/assets/ahmed.png",alt:"",className:"w-full h-full object-cover"})}),e.jsx("span",{className:"text-xs font-bold text-[#060928]",children:"Ahmed"})]}),e.jsx("span",{className:"text-[#060928] font-bold truncate",children:"my dad..."}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("button",{className:"w-8 h-8 rounded-full bg-[#060928] flex items-center justify-center",children:e.jsx(k,{size:16,className:"text-white",strokeWidth:3})}),e.jsx("button",{onClick:()=>m(!1),children:e.jsx(f,{size:18,className:"text-[#060928]",strokeWidth:2.5})})]})]})})]}),e.jsx("div",{className:"flex-1 flex items-center justify-center relative px-6",children:e.jsxs(u,{mode:"wait",children:[d==="listening"&&e.jsxs(a.div,{className:"relative flex flex-col items-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[e.jsx(a.div,{className:"w-36 h-36 rounded-full relative overflow-hidden shadow-[0_0_60px_rgba(255,100,255,0.5)] z-10",style:{background:"radial-gradient(circle, rgba(255,150,255,0.9) 0%, rgba(180,100,255,0.7) 50%, rgba(120,50,200,0.5) 100%)"},animate:{scale:[1,1.1,1],opacity:[.8,1,.8]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(f,{size:48,className:"text-white",strokeWidth:2})})}),e.jsx(a.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-white text-lg font-medium mt-12 text-center px-8",children:$})]},"listening-view"),d==="confirming"&&e.jsxs(a.div,{initial:{opacity:0,scale:.9,y:30},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:1.1},className:"w-[90vw] max-w-[400px] bg-white rounded-[40px] p-8 shadow-2xl relative z-50",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-8 text-[15px]",children:[e.jsx("span",{className:"text-gray-500 font-medium",children:"Add"}),e.jsxs("div",{className:"flex items-center gap-2 bg-[#F5F5F7] px-2.5 py-1.5 rounded-full border border-gray-100",children:[e.jsx("div",{className:"w-5 h-5 rounded-full overflow-hidden",children:e.jsx("img",{src:"/investbank/assets/ahmed.png",alt:"",className:"w-full h-full object-cover"})}),e.jsx("span",{className:"text-xs font-bold text-[#060928]",children:"Ahmed"})]}),e.jsx("span",{className:"text-gray-500 font-medium",children:"to"}),e.jsxs("div",{className:"bg-[#D40C52] text-white px-3 py-1.5 rounded-full text-xs font-bold flex items-center gap-2",children:[e.jsxs("div",{className:"flex -space-x-1.5",children:[e.jsx("div",{className:"w-3.5 h-3.5 rounded-full border border-white/20 overflow-hidden",children:e.jsx("img",{src:"/investbank/assets/Amal.png",className:"w-full h-full object-cover"})}),e.jsx("div",{className:"w-3.5 h-3.5 rounded-full border border-white/20 overflow-hidden",children:e.jsx("img",{src:"/investbank/assets/zyed.png",className:"w-full h-full object-cover"})})]}),"My Family Circle"]})]}),e.jsxs("div",{className:"bg-[#F5F5F7] rounded-[32px] p-6 flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"w-20 h-20 rounded-full border-4 border-white shadow-md overflow-hidden bg-cover bg-center",style:{backgroundImage:"url(/investbank/assets/ahmed.png)"}}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[#060928] font-bold text-xl",children:"Ahmed Al-Hassan"}),e.jsx("p",{className:"text-gray-400 text-xs font-medium",children:"Account number"}),e.jsx("p",{className:"text-[#060928] font-bold text-sm",children:"543816102001"})]})]}),e.jsx("button",{onClick:I,className:"w-full bg-[#060928] text-white py-4 rounded-[40px] font-bold text-lg active:scale-[0.98] transition-all shadow-xl",children:"Confirm"})]},"confirming-view"),d==="success"&&e.jsxs(a.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"flex flex-col items-center",children:[e.jsx(a.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},className:"w-24 h-24 rounded-full bg-green-500 flex items-center justify-center mb-6",children:e.jsx(p,{size:48,className:"text-white",strokeWidth:3})}),e.jsx(a.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-white text-2xl font-bold",children:"Done!"})]},"success-view")]})})]},"voice-modal"):e.jsxs(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"flex flex-col h-screen",children:[e.jsx("div",{className:"px-6 pt-[calc(env(safe-area-inset-top)+20px)] pb-4",children:e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>C("/"),className:"w-10 h-10 rounded-full overflow-hidden border-2 border-white/20 shadow-md",children:e.jsx("div",{className:"w-full h-full bg-cover bg-center",style:{backgroundImage:"url(/investbank/assets/omar.png)"}})}),e.jsx("h1",{className:"text-xl font-bold text-white",children:"Hi Omar"})]})})}),e.jsxs("div",{className:"flex-1 px-6 pb-6 overflow-y-auto space-y-4",children:[e.jsx(u,{children:j.map(s=>e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`flex ${s.type==="user"?"justify-end":"justify-start"} gap-3`,children:[s.type==="ai"&&s.avatar&&e.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden border-2 border-white shadow-md flex-shrink-0",children:e.jsx("img",{src:`/investbank/assets/${s.avatar}`,className:"w-full h-full object-cover",alt:""})}),e.jsxs("div",{className:`max-w-[75%] rounded-3xl px-6 py-4 ${s.type==="user"?"bg-[#060928] text-white":"bg-white text-[#060928] shadow-md"}`,children:[s.inlineAvatar?e.jsxs("p",{className:"text-[15px] font-medium",children:[s.text," ",e.jsxs("span",{className:"inline-flex items-center gap-1.5 bg-[#F5F5F7] px-2 py-1 rounded-full border border-gray-100 align-middle",children:[e.jsx("span",{className:"inline-block w-5 h-5 rounded-full overflow-hidden flex-shrink-0 align-middle",children:e.jsx("img",{src:`/investbank/assets/${s.inlineAvatar.image}`,className:"w-full h-full object-cover",alt:""})}),e.jsx("span",{className:"text-xs font-bold text-[#060928] whitespace-nowrap",children:s.inlineAvatar.name})]}),"?"]}):e.jsx("p",{className:"text-[15px] font-medium mb-4",children:s.text}),s.showAvatarGroup&&e.jsx("div",{className:"flex justify-center pt-2",children:e.jsxs("div",{className:"flex -space-x-4",children:[["Amal.png","zyed.png","omar.png"].map((t,n)=>e.jsx(a.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:n*.1},className:"w-14 h-14 rounded-full border-4 border-white shadow-xl overflow-hidden ring-1 ring-gray-100",children:e.jsx("img",{src:`/investbank/assets/${t}`,className:"w-full h-full object-cover",alt:""})},n)),e.jsx(a.div,{initial:{opacity:0,x:-30,scale:.5},animate:{opacity:1,x:0,scale:1},transition:{delay:.3},className:"w-14 h-14 rounded-full border-4 border-white shadow-xl overflow-hidden ring-1 ring-gray-100 relative z-20",children:e.jsx("img",{src:"/investbank/assets/ahmed.png",className:"w-full h-full object-cover",alt:""})})]})})]})]},s.id))}),l==="roleSelection"&&e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-3",children:[A.map(s=>e.jsxs(a.button,{onClick:()=>D(s.id),className:`w-full bg-white rounded-2xl p-4 shadow-md flex items-center justify-between transition-all ${o.includes(s.id)?"ring-2 ring-[#D40C52]":""}`,children:[e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-[#060928] font-bold text-[15px]",children:s.label}),e.jsx("p",{className:"text-gray-400 text-xs",children:s.description})]}),e.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${o.includes(s.id)?"bg-[#D40C52] border-[#D40C52]":"border-gray-300"}`,children:o.includes(s.id)&&e.jsx(p,{size:14,className:"text-white",strokeWidth:3})})]},s.id)),o.length>0&&e.jsx(a.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},onClick:R,className:"w-full bg-[#060928] text-white rounded-full py-4 font-bold text-[15px] shadow-lg active:scale-95 transition-transform",children:"Continue"})]}),l==="confirmationCard"&&e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full bg-white rounded-[32px] p-6 shadow-xl",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-6 text-[14px]",children:[e.jsx("span",{className:"text-gray-500 font-medium",children:"Add"}),e.jsxs("div",{className:"flex items-center gap-2 bg-[#F5F5F7] px-2.5 py-1.5 rounded-full border border-gray-100",children:[e.jsx("div",{className:"w-5 h-5 rounded-full overflow-hidden",children:e.jsx("img",{src:"/investbank/assets/ahmed.png",alt:"",className:"w-full h-full object-cover"})}),e.jsx("span",{className:"text-xs font-bold text-[#060928]",children:"Ahmed"})]}),e.jsx("span",{className:"text-gray-500 font-medium",children:"to"}),e.jsxs("div",{className:"bg-[#D40C52] text-white px-3 py-1.5 rounded-full text-xs font-bold flex items-center gap-2",children:[e.jsxs("div",{className:"flex -space-x-1.5",children:[e.jsx("div",{className:"w-3.5 h-3.5 rounded-full border border-white/20 overflow-hidden",children:e.jsx("img",{src:"/investbank/assets/Amal.png",className:"w-full h-full object-cover"})}),e.jsx("div",{className:"w-3.5 h-3.5 rounded-full border border-white/20 overflow-hidden",children:e.jsx("img",{src:"/investbank/assets/zyed.png",className:"w-full h-full object-cover"})})]}),"My Family Circle"]})]}),e.jsx("div",{className:"bg-[#F5F5F7] rounded-[24px] p-5 mb-6",children:e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full border-4 border-white shadow-md overflow-hidden bg-cover bg-center",style:{backgroundImage:"url(/investbank/assets/ahmed.png)"}}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[#060928] font-bold text-lg",children:"Ahmed Al-Hassan"}),e.jsx("p",{className:"text-gray-400 text-xs font-medium",children:"Account number"}),e.jsx("p",{className:"text-[#060928] font-bold text-sm",children:"543816102001"})]})]})}),e.jsxs("div",{className:"bg-[#F5F5F7] rounded-[20px] p-4 mb-6",children:[e.jsx("p",{className:"text-gray-400 text-xs font-medium mb-3",children:"Permissions"}),e.jsx("div",{className:"space-y-2",children:o.map(s=>{const t=A.find(n=>n.id===s);return t?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 rounded-full bg-[#D40C52] flex items-center justify-center",children:e.jsx(p,{size:12,className:"text-white",strokeWidth:3})}),e.jsx("span",{className:"text-[#060928] font-bold text-sm",children:t.label})]},s):null})})]}),e.jsx("button",{onClick:E,className:"w-full bg-[#060928] text-white rounded-full py-4 font-bold text-[15px] shadow-lg active:scale-95 transition-transform",children:"Confirm"})]}),e.jsx("div",{ref:g})]}),(l==="idle"||l==="followUp")&&e.jsx("div",{className:"px-6 pb-[calc(env(safe-area-inset-bottom)+20px)]",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{ref:b,type:"text",value:v,onChange:s=>w(s.target.value),onKeyDown:s=>s.key==="Enter"&&z(),placeholder:"How can I help you today?",className:"w-full bg-[#F5F5F7] text-gray-800 placeholder-gray-400 rounded-full px-6 py-3.5 pr-24 text-[15px] border-none focus:outline-none focus:ring-1 focus:ring-purple-200"}),e.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[e.jsx("button",{className:"w-9 h-9 rounded-full bg-[#060928] flex items-center justify-center shadow-lg active:scale-95 transition-transform",children:e.jsx(k,{size:20,className:"text-white",strokeWidth:3})}),e.jsx("button",{onClick:S,className:"w-9 h-9 flex items-center justify-center active:scale-95 transition-transform",children:e.jsx(f,{size:20,className:"text-[#060928]",strokeWidth:2.5})})]})]})})]},"normal-chat")})})}export{q as default};
